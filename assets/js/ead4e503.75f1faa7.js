(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{208:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return b}));var a=n(3),r=n(8),i=(n(0),n(221)),o={title:"Requests Monitor"},l={unversionedId:"features/requests-monitor",id:"features/requests-monitor",isDocsHomePage:!1,title:"Requests Monitor",description:"- Enable requests logging",source:"@site/docs/features/requests-monitor.md",slug:"/features/requests-monitor",permalink:"/docs/next/features/requests-monitor",editUrl:"https://github.com/apiato/documentation/tree/master/docs/features/requests-monitor.md",version:"current",lastUpdatedBy:"Moslem Deris",lastUpdatedAt:1618231867,formattedLastUpdatedAt:"4/12/2021",sidebar:"docs",previous:{title:"Rate Limiting",permalink:"/docs/next/features/rate-limiting"},next:{title:"Data Caching",permalink:"/docs/next/features/data-caching"}},s=[{value:"Enable requests logging",id:"enable-requests-logging",children:[]},{value:"Usage",id:"usage",children:[]},{value:"Result",id:"result",children:[]},{value:"Change the default log file",id:"change-the-default-log-file",children:[]}],c={toc:s};function b(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#enable-requests-logging"},"Enable requests logging")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#usage"},"Usage")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#result"},"Result")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#change-the-default-log-file"},"Change the default log file"))),Object(i.b)("p",null,"Apiato provides a simple and easy way to monitor and log all the HTTP requests coming to your application."),Object(i.b)("p",null,"The request monitor can be very useful when testing and debugging your frontend Apps which consume your API. Especially when the frontend apps (Mobile, Web,...) are built by other developers who are far from you."),Object(i.b)("p",null,"The requests monitor is provided by the Debugger Container, by a ",Object(i.b)("inlineCode",{parentName:"p"},"RequestsMonitorMiddleware")," middleware."),Object(i.b)("div",{className:"admonition admonition-danger alert alert--danger"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"ATTENTION")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"This container is a ",Object(i.b)("inlineCode",{parentName:"p"},"VendorContainer")," and is installed with apiato by default,\nto modify its code you need to read ",Object(i.b)("a",{parentName:"p",href:"#change-the-default-log-file"},"the instructions")," first."))),Object(i.b)("h2",{id:"enable-requests-logging"},"Enable requests logging"),Object(i.b)("p",null,"From the ",Object(i.b)("inlineCode",{parentName:"p"},".env")," file set ",Object(i.b)("inlineCode",{parentName:"p"},"REQUESTS_DEBUG")," to true."),Object(i.b)("p",null,"Now in order for this to start displaying the results you need to enable the debugging mode in Laravel by setting ",Object(i.b)("inlineCode",{parentName:"p"},"APP_DEBUG")," to true in the ",Object(i.b)("inlineCode",{parentName:"p"},".env")," as well."),Object(i.b)("h2",{id:"usage"},"Usage"),Object(i.b)("p",null,"Simply tail the log file"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-shell"},"\ntail -f storage/logs/debugger.log\n\n")),Object(i.b)("h2",{id:"result"},"Result"),Object(i.b)("p",null,"Screenshot example:"),Object(i.b)("p",null,Object(i.b)("img",{parentName:"p",src:"https://files.readme.io/25bf091-requests-debugger.png",alt:null})),Object(i.b)("h2",{id:"change-the-default-log-file"},"Change the default log file"),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Instructions")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"This container works out of the box perfectly but if you want to change its configs or modify the codes you MUST follow these steps first:"),Object(i.b)("p",{parentName:"div"},"1- Copy the container from ",Object(i.b)("inlineCode",{parentName:"p"},"VendorSection")," to ",Object(i.b)("inlineCode",{parentName:"p"},"AppSection")," (or any of your custom sections) of your project",Object(i.b)("br",null),"\n2- Fix any broken namespaces",Object(i.b)("br",null)))),Object(i.b)("p",null,"By default, everything is logged in the ",Object(i.b)("inlineCode",{parentName:"p"},"debugger.log")," file, to change the default file go to ",Object(i.b)("inlineCode",{parentName:"p"},"Debugger/Configs/debugger.php")," config file and set the file name:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-php"},"<?php\n\n/*\n\n |--------------------------------------------------------------------------\n | Log File\n |--------------------------------------------------------------------------\n |\n | What to name the log file in the `storage/log` path.\n |\n */\n\n'log_file' => 'debugger.log',\n\n")),Object(i.b)("p",null,"This feature is provided by the ",Object(i.b)("inlineCode",{parentName:"p"},"Debugger")," Container via its ",Object(i.b)("inlineCode",{parentName:"p"},"RequestsMonitorMiddleware")," middleware."),Object(i.b)("p",null,"To see the results go ahead and Tail the default Laravel debug file ",Object(i.b)("inlineCode",{parentName:"p"},"tail -f storage/logs/laravel.log"),"."),Object(i.b)("p",null,"Note: this will also not run in Testing environments, to enable it you need to manually edit the Middleware."))}b.isMDXComponent=!0},221:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return g}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),b=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=b(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=b(n),d=a,g=u["".concat(o,".").concat(d)]||u[d]||p[d]||i;return n?r.a.createElement(g,l(l({ref:t},c),{},{components:n})):r.a.createElement(g,l({ref:t},c))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);